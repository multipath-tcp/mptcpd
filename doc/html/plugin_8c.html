<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mptcpd: lib/plugin.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mptcpd
   </div>
   <div id="projectbrief">Multipath TCP Daemon</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">plugin.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common path manager plugin functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;linux/mptcp.h&gt;</code><br />
<code>#include &lt;ell/hashmap.h&gt;</code><br />
<code>#include &lt;ell/plugin.h&gt;</code><br />
<code>#include &lt;ell/util.h&gt;</code><br />
<code>#include &lt;ell/log.h&gt;</code><br />
<code>#include &lt;<a class="el" href="plugin_8h_source.html">mptcpd/plugin.h</a>&gt;</code><br />
<code>#include &lt;linux/genetlink.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for plugin.c:</div>
<div class="dyncontent">
<div class="center"><img src="plugin_8c__incl.png" border="0" usemap="#lib_2plugin_8c" alt=""/></div>
<map name="lib_2plugin_8c" id="lib_2plugin_8c">
<area shape="rect" id="node10" href="plugin_8h.html" title="mptcpd user space path manager plugin header file. " alt="" coords="857,80,972,107"/>
<area shape="rect" id="node12" href="export_8h.html" title="mptcpd shared library symbol export/import macros. " alt="" coords="857,155,973,181"/>
<area shape="rect" id="node13" href="types_8h.html" title="mptcpd user space path manager attribute types. " alt="" coords="997,155,1109,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a985ec6b7afa5f46ad0e5533d62f7873b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a985ec6b7afa5f46ad0e5533d62f7873b">MPTCP_PM_NAME_LEN</a>&#160;&#160;&#160;GENL_NAMSIZ</td></tr>
<tr class="separator:a985ec6b7afa5f46ad0e5533d62f7873b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a310090e8f9d26bbabdd786c758460c1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a310090e8f9d26bbabdd786c758460c1d">mptcpd_plugin_load</a> (char const *dir, char const *default_name)</td></tr>
<tr class="memdesc:a310090e8f9d26bbabdd786c758460c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load mptcpd plugins.  <a href="#a310090e8f9d26bbabdd786c758460c1d">More...</a><br /></td></tr>
<tr class="separator:a310090e8f9d26bbabdd786c758460c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e17010850ba204af44cff24768bcf49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a8e17010850ba204af44cff24768bcf49">mptcpd_plugin_unload</a> (void)</td></tr>
<tr class="memdesc:a8e17010850ba204af44cff24768bcf49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload mptcpd plugins.  <a href="#a8e17010850ba204af44cff24768bcf49">More...</a><br /></td></tr>
<tr class="separator:a8e17010850ba204af44cff24768bcf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d5b40d21e262c386b4f3db0dd1ba62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a04d5b40d21e262c386b4f3db0dd1ba62">mptcpd_plugin_register_ops</a> (char const *name, struct <a class="el" href="structmptcpd__plugin__ops.html">mptcpd_plugin_ops</a> const *ops)</td></tr>
<tr class="memdesc:a04d5b40d21e262c386b4f3db0dd1ba62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register path manager operations.  <a href="#a04d5b40d21e262c386b4f3db0dd1ba62">More...</a><br /></td></tr>
<tr class="separator:a04d5b40d21e262c386b4f3db0dd1ba62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa037e13d585e17a612fbfe5c2dda3e8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#aa037e13d585e17a612fbfe5c2dda3e8e">mptcpd_plugin_new_connection</a> (char const *name, <a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *laddr, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *raddr, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:aa037e13d585e17a612fbfe5c2dda3e8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of new MPTCP connection pending completion.  <a href="#aa037e13d585e17a612fbfe5c2dda3e8e">More...</a><br /></td></tr>
<tr class="separator:aa037e13d585e17a612fbfe5c2dda3e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f3c6e405c5b71d4784e83c7d822f4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#ac2f3c6e405c5b71d4784e83c7d822f4e">mptcpd_plugin_connection_established</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *laddr, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *raddr, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:ac2f3c6e405c5b71d4784e83c7d822f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of MPTCP connection completion.  <a href="#ac2f3c6e405c5b71d4784e83c7d822f4e">More...</a><br /></td></tr>
<tr class="separator:ac2f3c6e405c5b71d4784e83c7d822f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bfbcf16777f9beb1d453594902aa80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a72bfbcf16777f9beb1d453594902aa80">mptcpd_plugin_connection_closed</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:a72bfbcf16777f9beb1d453594902aa80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of MPTCP connection closure.  <a href="#a72bfbcf16777f9beb1d453594902aa80">More...</a><br /></td></tr>
<tr class="separator:a72bfbcf16777f9beb1d453594902aa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fda05f7fd68c8256403631c10ebcbe8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a6fda05f7fd68c8256403631c10ebcbe8">mptcpd_plugin_new_address</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, <a class="el" href="types_8h.html#adf127168dbffeda9346f486f7356c7eb">mptcpd_aid_t</a> id, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *addr, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:a6fda05f7fd68c8256403631c10ebcbe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of new address advertised by a peer.  <a href="#a6fda05f7fd68c8256403631c10ebcbe8">More...</a><br /></td></tr>
<tr class="separator:a6fda05f7fd68c8256403631c10ebcbe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab193a495e065fae3dc02d7288c4d47db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#ab193a495e065fae3dc02d7288c4d47db">mptcpd_plugin_address_removed</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, <a class="el" href="types_8h.html#adf127168dbffeda9346f486f7356c7eb">mptcpd_aid_t</a> id, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:ab193a495e065fae3dc02d7288c4d47db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of address no longer advertised by a peer.  <a href="#ab193a495e065fae3dc02d7288c4d47db">More...</a><br /></td></tr>
<tr class="separator:ab193a495e065fae3dc02d7288c4d47db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b66050a7c026d4744e4bfa5c6ba6bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a78b66050a7c026d4744e4bfa5c6ba6bd">mptcpd_plugin_new_subflow</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *laddr, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *raddr, bool backup, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:a78b66050a7c026d4744e4bfa5c6ba6bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin that a peer has joined the MPTCP connection.  <a href="#a78b66050a7c026d4744e4bfa5c6ba6bd">More...</a><br /></td></tr>
<tr class="separator:a78b66050a7c026d4744e4bfa5c6ba6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c67bbc3fc289967aea2364a36aef4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#a29c67bbc3fc289967aea2364a36aef4c">mptcpd_plugin_subflow_closed</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *laddr, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *raddr, bool backup, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:a29c67bbc3fc289967aea2364a36aef4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of MPTCP subflow closure.  <a href="#a29c67bbc3fc289967aea2364a36aef4c">More...</a><br /></td></tr>
<tr class="separator:a29c67bbc3fc289967aea2364a36aef4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdfe080cccb0ffcaf3c01b865e5a7596"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8c.html#acdfe080cccb0ffcaf3c01b865e5a7596">mptcpd_plugin_subflow_priority</a> (<a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a> token, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *laddr, struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *raddr, bool backup, struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *pm)</td></tr>
<tr class="memdesc:acdfe080cccb0ffcaf3c01b865e5a7596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify plugin of MPTCP subflow priority change.  <a href="#acdfe080cccb0ffcaf3c01b865e5a7596">More...</a><br /></td></tr>
<tr class="separator:acdfe080cccb0ffcaf3c01b865e5a7596"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common path manager plugin functions. </p>
<p>Copyright (c) 2018, 2019, Intel Corporation </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a985ec6b7afa5f46ad0e5533d62f7873b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985ec6b7afa5f46ad0e5533d62f7873b">&#9670;&nbsp;</a></span>MPTCP_PM_NAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPTCP_PM_NAME_LEN&#160;&#160;&#160;GENL_NAMSIZ</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>Remove this preprocessor symbol definition once support for path management strategy names are supported in the new generic netlink API.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><code>GENL_NAMSIZ</code> is used as the size since the path manager name attribute in the deprecated MPTCP generic netlink API contained a fixed length string of that size. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab193a495e065fae3dc02d7288c4d47db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab193a495e065fae3dc02d7288c4d47db">&#9670;&nbsp;</a></span>mptcpd_plugin_address_removed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_address_removed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#adf127168dbffeda9346f486f7356c7eb">mptcpd_aid_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of address no longer advertised by a peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Remote address identifier. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72bfbcf16777f9beb1d453594902aa80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72bfbcf16777f9beb1d453594902aa80">&#9670;&nbsp;</a></span>mptcpd_plugin_connection_closed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_connection_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of MPTCP connection closure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2f3c6e405c5b71d4784e83c7d822f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f3c6e405c5b71d4784e83c7d822f4e">&#9670;&nbsp;</a></span>mptcpd_plugin_connection_established()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_connection_established </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>laddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>raddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of MPTCP connection completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">laddr</td><td>Local address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">raddr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a310090e8f9d26bbabdd786c758460c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310090e8f9d26bbabdd786c758460c1d">&#9670;&nbsp;</a></span>mptcpd_plugin_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mptcpd_plugin_load </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>default_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load mptcpd plugins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>Directory from which plugins will be loaded. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">default_name</td><td>Name of plugin to be considered the default.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on successful load, <code>false</code> otherwise. </dd></dl>
<p>Create map of connection token to path manager plugin.</p>
<dl class="section note"><dt>Note</dt><dd>We use the default ELL direct hash function that converts from a pointer to an <code>unsigned</code> <code>int</code>.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000025">Todo:</a></b></dt><dd>Determine if this is a performance bottleneck on 64 bit platforms since it is possible that connection IDs may end up in the same hash bucket due to the truncation from 64 bits to 32 bits in ELL's direct hash function, assuming <code>unsigned</code> <code>int</code> is a 32 bit type. </dd></dl>

</div>
</div>
<a id="a6fda05f7fd68c8256403631c10ebcbe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fda05f7fd68c8256403631c10ebcbe8">&#9670;&nbsp;</a></span>mptcpd_plugin_new_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_new_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#adf127168dbffeda9346f486f7356c7eb">mptcpd_aid_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of new address advertised by a peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Remote address identifier. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa037e13d585e17a612fbfe5c2dda3e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa037e13d585e17a612fbfe5c2dda3e8e">&#9670;&nbsp;</a></span>mptcpd_plugin_new_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_new_connection </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>laddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>raddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of new MPTCP connection pending completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Plugin name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">laddr</td><td>Local address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">raddr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78b66050a7c026d4744e4bfa5c6ba6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b66050a7c026d4744e4bfa5c6ba6bd">&#9670;&nbsp;</a></span>mptcpd_plugin_new_subflow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_new_subflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>laddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>raddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>backup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin that a peer has joined the MPTCP connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">laddr</td><td>Local address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">raddr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backup</td><td>Backup priority flag. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04d5b40d21e262c386b4f3db0dd1ba62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d5b40d21e262c386b4f3db0dd1ba62">&#9670;&nbsp;</a></span>mptcpd_plugin_register_ops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mptcpd_plugin_register_ops </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__plugin__ops.html">mptcpd_plugin_ops</a> const *&#160;</td>
          <td class="paramname"><em>ops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register path manager operations. </p>
<p>Path manager plugins should call this function to register their MPTCP path manager event handling functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Plugin name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ops</td><td>Set of MPTCP path manager event handling functions provided by the path manager plugin.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Registration succeeded. </td></tr>
    <tr><td class="paramname">false</td><td>Registration failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29c67bbc3fc289967aea2364a36aef4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c67bbc3fc289967aea2364a36aef4c">&#9670;&nbsp;</a></span>mptcpd_plugin_subflow_closed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_subflow_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>laddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>raddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>backup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of MPTCP subflow closure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">laddr</td><td>Local address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">raddr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backup</td><td>Backup priority flag. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdfe080cccb0ffcaf3c01b865e5a7596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdfe080cccb0ffcaf3c01b865e5a7596">&#9670;&nbsp;</a></span>mptcpd_plugin_subflow_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_subflow_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a6e9641b2e99dcb57c5815a84af404700">mptcpd_token_t</a>&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>laddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__addr.html">mptcpd_addr</a> const *&#160;</td>
          <td class="paramname"><em>raddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>backup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmptcpd__pm.html">mptcpd_pm</a> *&#160;</td>
          <td class="paramname"><em>pm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify plugin of MPTCP subflow priority change. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>MPTCP connection token. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">laddr</td><td>Local address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">raddr</td><td>Remote address information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backup</td><td>Backup priority flag. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pm</td><td>Opaque pointer to mptcpd path manager object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e17010850ba204af44cff24768bcf49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e17010850ba204af44cff24768bcf49">&#9670;&nbsp;</a></span>mptcpd_plugin_unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mptcpd_plugin_unload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unload mptcpd plugins. </p>
<dl class="section note"><dt>Note</dt><dd>This isn't thread-safe. We'll need a lock if we ever support destroying multiple path managers from different threads. However, right now there doesn't appear to be a need to support that.</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 26 2019 09:22:24 for mptcpd by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
